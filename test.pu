@startuml ERDiagram

!define Table(name,desc) class name as "desc" << (T,#FFAAAA) >>
!define PrimaryKey(x) <color:red>x</color>
!define ForeignKey(x) <color:blue>x</color>
!define Index(x) <color:green>x</color>

!define AUTO_INCREMENT(x) <color:orange>x</color>
!define NULL(x) <color:gray>x</color>

hide empty attributes

Table(channels, "channels") {
  + PRIMARY KEY {id} INT(11) <b><u><color:red>PRIMARY</color></u></b> AUTO_INCREMENT
  name VARCHAR(100) NULL
}

Table(time_slots, "time_slots") {
  + PRIMARY KEY {id} INT(11) <b><u><color:red>PRIMARY</color></u></b> AUTO_INCREMENT
  channel_id INT(11) <b><u><color:blue>INDEX</color></u></b>
  start_time DATETIME NULL
  end_time DATETIME NULL
  FOREIGN KEY (channel_id) REFERENCES channels(id)
}

Table(shows, "shows") {
  + PRIMARY KEY {id} INT(11) <b><u><color:red>PRIMARY</color></u></b> AUTO_INCREMENT
  title VARCHAR(255) NULL
  description TEXT NULL
}

Table(genres, "genres") {
  + PRIMARY KEY {id} INT(11) <b><u><color:red>PRIMARY</color></u></b> AUTO_INCREMENT
  name VARCHAR(100) NULL
}

Table(show_genres, "show_genres") {
  show_id INT(11) <b><u><color:blue>INDEX</color></u></b>
  genre_id INT(11) <b><u><color:blue>INDEX</color></u></b>
  FOREIGN KEY (show_id) REFERENCES shows(id)
  FOREIGN KEY (genre_id) REFERENCES genres(id)
}

Table(seasons, "seasons") {
  + PRIMARY KEY {id} INT(11) <b><u><color:red>PRIMARY</color></u></b> AUTO_INCREMENT
  show_id INT(11) <b><u><color:blue>INDEX</color></u></b>
  season_number INT(11) NULL
  FOREIGN KEY (show_id) REFERENCES shows(id)
}

Table(episodes, "episodes") {
  + PRIMARY KEY {id} INT(11) <b><u><color:red>PRIMARY</color></u></b> AUTO_INCREMENT
  season_id INT(11) NULL <b><u><color:blue>INDEX</color></u></b>
  episode_number INT(11) NULL
  title VARCHAR(255) NULL
  description TEXT NULL
  duration INT(11) NULL
  air_date DATE NULL
  FOREIGN KEY (season_id) REFERENCES seasons(id)
}

Table(view_counts, "view_counts") {
  + PRIMARY KEY {id} INT(11) <b><u>color:redPRIMARY</color></u></b> AUTO_INCREMENT
time_slot_id INT(11) <b><u>color:blueINDEX</color></u></b>
episode_id INT(11) <b><u>color:blueINDEX</color></u></b>
views INT(11) NULL
FOREIGN KEY (time_slot_id) REFERENCES time_slots(id)
FOREIGN KEY (episode_id) REFERENCES episodes(id)
}

shows -- genres : <b><u>color:blueshow_genres</color></u></b>
shows -- seasons : <b><u>color:blueseasons</color></u></b>
seasons -- episodes : <b><u>color:blueepisodes</color></u></b>
time_slots -- channels : <b><u>color:bluechannels</color></u></b>
episodes -- view_counts : <b><u>color:blueview_counts</color></u></b>

@enduml
